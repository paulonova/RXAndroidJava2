package tutorial;

import java.util.ArrayList;
import java.util.List;
import java.util.TimerTask;

public class Main {
	
	private static List<User> subscribedUsers = new ArrayList<>();
	private static List<Tutorial> publishedTutorials = new ArrayList<>();
	private static int lastCountOfPublishedTutorials = 0;
	
	private static void polling(){
		Polling polling = new 
	}

	public static void main(String[] args) {
		
		Tutorial android1 = new Tutorial("Hafiz", "........");
	    Tutorial android2 = new Tutorial("Hafiz", "........");
	    Tutorial android3 = new Tutorial("Hafiz", "........");

	    publishedTutorials.add(android1);
	    publishedTutorials.add(android2);
	    publishedTutorials.add(android3);
	    
	    // I have already three tutorials and later user subscribed for email
		
		User A = new User("A","a@a.com");
	    User B = new User("B","b@a.com");
	    User C = new User("C","c@a.com");
	    User D = new User("D","d@a.com");
	    
	    // Now A,C and D click subscribe button
	    subscribedUsers.add(A);
	    subscribedUsers.add(C);
	    subscribedUsers.add(D);
	    
	    
	    Tutorial android4 = new Tutorial("Hafiz 4", "........");
	    publishedTutorials.add(android4);
	    
	    

	}
	
	public static class Polling extends TimerTask {

		@Override
		public void run() {
			if(lastCountOfPublishedTutorials < publishedTutorials.size()){
	            lastCountOfPublishedTutorials = publishedTutorials.size();
	            sendEmail(subscribedUsers);
	        }
	        System.out.println("Polling");
	    }
			
		}
		

	}
	
	
	public static class Tutorial{
		
		private String authorName;
	    private String post;	    
	    
	    
		public Tutorial() {
		}
		
		public Tutorial(String authorName, String post) {
			this.authorName = authorName;
			this.post = post;
		}
		
		
		
		//Getters and Setters
		public String getAuthorName() {
			return authorName;
		}
		public void setAuthorName(String authorName) {
			this.authorName = authorName;
		}
		public String getPost() {
			return post;
		}
		public void setPost(String post) {
			this.post = post;
		}    
	    
	    
		
	}

}
